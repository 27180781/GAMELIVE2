
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>מחולל קישורי משחק לייב - חוויה בקליק</title>
    <style>
        body {
            background-color: #f4f4f4;
            font-family: 'Arial', sans-serif;
            text-align: center;
            padding: 50px;
        }
        h1 {
            color: #333;
        }
        input, button {
            font-size: 16px;
            padding: 10px;
            margin: 10px;
            width: 300px;
        }
        .link-group {
            margin-top: 30px;
        }
        .link-container {
            background-color: #fff;
            padding: 15px;
            margin: 10px auto;
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        a {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #0073e6;
            word-wrap: break-word;
        }
        .copy-btn {
            background-color: #0073e6;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>מחולל קישורי משחק לייב<br>חוויה בקליק</h1>
    <input type="text" id="gameId" placeholder="הכנס את קוד המשחק">
    <br>
    <button onclick="generateLinks()">צור קישורים</button>
    <div class="link-group" id="links"></div>

    <script>
        async function generateLinks() {
            const channelName = document.getElementById('gameId').value.trim();
            const uid = Math.floor(Math.random() * 1000000);
            if (!channelName) {
                alert("נא להכניס קוד משחק");
                return;
            }

            const response = await fetch('https://agora-token-generator.caprover.clicker.co.il/generate_token', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ channel_name: channelName, uid })
            });

            const data = await response.json();
            const token = data.rtcToken;
            const links = [
                { name: 'כניסת שחקן', url: `https://clicker.co.il/player.html?c=${channelName}&uid=${uid}&token=${token}` },
                { name: 'כניסת מנחה', url: `https://clicker.co.il/official_host.html?c=${channelName}&uid=${uid}&token=${token}` },
                { name: 'כניסת טכנאי', url: `https://clicker.co.il/technical_host.html?c=${channelName}&uid=${uid}&token=${token}` }
            ];

            const container = document.getElementById('links');
            container.innerHTML = '';
            links.forEach(link => {
                const div = document.createElement('div');
                div.className = 'link-container';
                div.innerHTML = `
                    <a href="${link.url}" target="_blank">${link.name}</a>
                    <button class="copy-btn" onclick="navigator.clipboard.writeText('${link.url}')">העתק קישור</button>
                `;
                container.appendChild(div);
            });
        }
    </script>
</body>
</html>
